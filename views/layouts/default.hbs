<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}} - Mātete nō Tahiti</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/css/styles.css">

    <!-- Scripts -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
</head>

<body>
    {{> header }}
    
    <main class="container">
        {{#if error}}
            <div class="notification is-danger">
                {{error}}
            </div>
        {{/if}}
        
        {{#if success}}
            <div class="notification is-success">
                {{success}}
            </div>
        {{/if}}
        
        {{{body}}}
    </main>

    {{> footer}}

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Gestion du menu burger pour mobile
            const navbarBurger = document.querySelector('.navbar-burger');
            const navbarMenu = document.querySelector('.navbar-menu');
            
            if (navbarBurger) {
                navbarBurger.addEventListener('click', () => {
                    navbarBurger.classList.toggle('is-active');
                    navbarMenu.classList.toggle('is-active');
                });
            }

            // Gestion des dropdowns
            const dropdowns = document.querySelectorAll('.dropdown');
            dropdowns.forEach(dropdown => {
                dropdown.addEventListener('click', event => {
                    event.stopPropagation();
                    dropdown.classList.toggle('is-active');
                });
            });

            // Fermer les dropdowns quand on clique ailleurs
            document.addEventListener('click', () => {
                dropdowns.forEach(dropdown => {
                    dropdown.classList.remove('is-active');
                });
            });
        });
    </script>
</body>
</html>